(function(V,t){typeof exports=="object"&&typeof module<"u"?t(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],t):(V=typeof globalThis<"u"?globalThis:V||self,t(V["vuetify-notifier"]={},V.Vue))})(this,function(V,t){"use strict";const _={class:"vuetify-notifier"},T=t.defineComponent({__name:"NotifierDialog",props:{content:{type:[String,Object],required:!0,default:"Are you sure?"},options:{type:Object,required:!0},status:{type:String,required:!0},onSubmit:{type:Function,required:!0},onCancel:{type:Function,required:!0}},setup(o){const e=o,a=t.ref(!0),y=t.ref(""),b=t.computed(()=>{var r;return typeof e.content=="object"?(r=e.content)==null?void 0:r.title:void 0}),x=t.computed(()=>{var r;return typeof e.content=="object"?(r=e.content)==null?void 0:r.text:e.content}),m=async r=>{console.log(typeof r);const{valid:f}=await r;f&&(a.value=!1,e.options.prompt?e.onSubmit(y.value):e.onSubmit(!0))},u=()=>{a.value=!1,e.onCancel()};return(r,f)=>{const n=t.resolveComponent("VIcon"),i=t.resolveComponent("VToolbar"),s=t.resolveComponent("v-col"),c=t.resolveComponent("VTextField"),l=t.resolveComponent("v-row"),h=t.resolveComponent("VCardText"),d=t.resolveComponent("VDivider"),p=t.resolveComponent("VSpacer"),C=t.resolveComponent("VBtn"),N=t.resolveComponent("VCardActions"),W=t.resolveComponent("VCard"),M=t.resolveComponent("VForm"),H=t.resolveComponent("VDialog"),z=t.resolveComponent("VDefaultsProvider");return t.openBlock(),t.createElementBlock("div",_,[t.createVNode(z,null,{default:t.withCtx(()=>{var B,S;return[t.createVNode(H,t.mergeProps({modelValue:a.value,"onUpdate:modelValue":f[1]||(f[1]=w=>a.value=w),persistent:"",transition:(B=o.options)==null?void 0:B.transition,width:(S=o.options)==null?void 0:S.width,scrollable:""},o.options.dialogProps),{default:t.withCtx(()=>[t.createVNode(M,{"validate-on":"submit",onSubmit:t.withModifiers(m,["prevent"])},{default:t.withCtx(()=>{var w,P;return[t.createVNode(W,t.mergeProps(o.options.cardProps,{"min-width":(w=o.options)==null?void 0:w.minWidth,"min-height":(P=o.options)==null?void 0:P.minHeight}),{default:t.withCtx(()=>[t.unref(b)?(t.openBlock(),t.createBlock(i,{key:0,title:t.unref(b),density:"compact",color:o.status==="default"?o.options.defaultColor:o.status},{default:t.withCtx(()=>[t.createVNode(n,{icon:o.options[`${o.status}Icon`],class:"mr-2"},null,8,["icon"])]),_:1},8,["title","color"])):t.createCommentVNode("",!0),t.createVNode(h,null,{default:t.withCtx(()=>[t.createVNode(l,{align:"center",justify:o.options.textAlign,class:"h-100"},{default:t.withCtx(()=>[t.createVNode(s,{cols:"12",class:"text-center"},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(t.unref(x)),1)]),_:1}),o.options.prompt?(t.openBlock(),t.createBlock(s,{key:0,cols:"12"},{default:t.withCtx(()=>[t.createVNode(c,t.mergeProps({modelValue:y.value,"onUpdate:modelValue":f[0]||(f[0]=K=>y.value=K)},o.options.inputProps),null,16,["modelValue"])]),_:1})):t.createCommentVNode("",!0)]),_:1},8,["justify"])]),_:1}),o.options.showDivider?(t.openBlock(),t.createBlock(d,{key:1})):t.createCommentVNode("",!0),t.createVNode(N,null,{default:t.withCtx(()=>[t.createVNode(p),t.createVNode(C,t.mergeProps(o.options.secondaryButtonProps||o.options.buttonProps,{onClick:u}),{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(o.options.secondaryButtonText),1)]),_:1},16),t.createVNode(C,t.mergeProps({variant:"tonal"},o.options.primaryButtonProps||o.options.buttonProps,{color:"primary",type:"submit"}),{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(o.options.primaryButtonText),1)]),_:1},16)]),_:1})]),_:1},16,["min-width","min-height"])]}),_:1},8,["onSubmit"])]),_:1},16,["modelValue","transition","width"])]}),_:1})])}}}),D={class:"vuetify-notifier-toast"},j={key:0,class:"font-weight-bold mb-2"},O=t.defineComponent({__name:"NotifierToast",props:{content:{type:[String,Object],required:!0,default:"Are you sure?"},options:{type:Object,required:!0},status:{type:String,required:!0},onSubmit:{type:Function,required:!0},onCancel:{type:Function,required:!0}},setup(o){const e=o,a=t.ref(!0),y=t.computed(()=>{var m;return typeof e.content=="object"?(m=e.content)==null?void 0:m.title:void 0}),b=t.computed(()=>{var m;return typeof e.content=="object"?(m=e.content)==null?void 0:m.text:e.content}),x=()=>{a.value=!1,e.onCancel()};return(m,u)=>{const r=t.resolveComponent("VBtn"),f=t.resolveComponent("VSnackbar"),n=t.resolveComponent("VDefaultsProvider");return t.openBlock(),t.createElementBlock("div",D,[t.createVNode(n,null,{default:t.withCtx(()=>[t.createVNode(f,t.mergeProps({modelValue:a.value,"onUpdate:modelValue":[u[0]||(u[0]=i=>a.value=i),x],color:o.status==="default"?o.options.defaultColor:o.status},o.options.toastProps),{actions:t.withCtx(()=>[t.createVNode(r,{icon:"mdi-close-circle",size:"small",onClick:x})]),default:t.withCtx(()=>[t.unref(y)?(t.openBlock(),t.createElementBlock("div",j,t.toDisplayString(t.unref(y)),1)):t.createCommentVNode("",!0),t.createElementVNode("p",null,t.toDisplayString(t.unref(b)),1)]),_:1},16,["modelValue","color"])]),_:1})])}}}),q={transition:"dialog-bottom-transition",width:"auto",minWidth:300,minHeight:250,textAlign:"center",duration:1500,defaultColor:"",defaultIcon:"mdi-alert-circle",successIcon:"mdi-check-circle",infoIcon:"mdi-information",warningIcon:"mdi-alert",errorIcon:"mdi-alert-circle",primaryButtonText:"OK",secondaryButtonText:"Cancel",showDivider:!0,buttonProps:{width:"100"},dialogProps:{},cardProps:{},handleCancel:"silent",inputProps:{label:"Input",rules:[o=>!!o||"Name is required",o=>o&&o.length<=10||"Name must be less than 10 characters"]}},I={defaultColor:"primary",defaultIcon:"mdi-alert-circle",successIcon:"mdi-check-circle",infoIcon:"mdi-information",warningIcon:"mdi-alert",errorIcon:"mdi-alert-circle",toastProps:{transition:"v-scroll-x-transition",location:"top right"}},E={existsButton:!0},F={class:"vuetify-notifier"},A=t.defineComponent({__name:"NotifierComponent",props:{content:{type:[String,Object],required:!0,default:"Are you sure?"},options:{type:Object,required:!0},status:{type:String,required:!0},onSubmit:{type:Function,required:!0},onCancel:{type:Function,required:!0}},setup(o){const e=o,a=t.ref(!0);t.ref("");const y=t.computed(()=>{var r;return typeof e.content=="object"?(r=e.content)==null?void 0:r.title:void 0}),b=t.computed(()=>{var r;return typeof e.content=="object"?(r=e.content)==null?void 0:r.component:e.content}),x=t.computed(()=>({...e.options.componentProps,onSubmit:m,onCancel:u})),m=async r=>{a.value=!1,e.onSubmit(r)},u=r=>{a.value=!1,e.onCancel(r)};return(r,f)=>{const n=t.resolveComponent("v-icon"),i=t.resolveComponent("v-btn"),s=t.resolveComponent("VToolbar"),c=t.resolveComponent("VCard"),l=t.resolveComponent("VDialog"),h=t.resolveComponent("VDefaultsProvider");return t.openBlock(),t.createElementBlock("div",F,[t.createVNode(h,null,{default:t.withCtx(()=>{var d,p;return[t.createVNode(l,t.mergeProps({modelValue:a.value,"onUpdate:modelValue":f[0]||(f[0]=C=>a.value=C),persistent:"",transition:(d=o.options)==null?void 0:d.transition,width:(p=o.options)==null?void 0:p.width,scrollable:""},o.options.dialogProps),{default:t.withCtx(()=>[t.unref(y)?(t.openBlock(),t.createBlock(c,{key:0},{default:t.withCtx(()=>[t.createVNode(s,{title:t.unref(y)},{default:t.withCtx(()=>[o.options.existsButton?(t.openBlock(),t.createBlock(i,{key:0,icon:"",onClick:u,variant:"text"},{default:t.withCtx(()=>[t.createVNode(n,null,{default:t.withCtx(()=>[t.createTextVNode("mdi-close")]),_:1})]),_:1})):t.createCommentVNode("",!0)]),_:1},8,["title"]),(t.openBlock(),t.createBlock(t.resolveDynamicComponent(t.unref(b)),t.mergeProps(t.unref(x),{onOnSubmit:m,onOnCancel:u}),null,16))]),_:1})):(t.openBlock(),t.createElementBlock(t.Fragment,{key:1},[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(o.content),t.mergeProps(t.unref(x),{onOnSubmit:m,onOnCancel:u}),null,16)),o.options.existsButton?(t.openBlock(),t.createBlock(i,{key:0,position:"fixed",location:"top right",icon:"",onClick:u,variant:"text"},{default:t.withCtx(()=>[t.createVNode(n,null,{default:t.withCtx(()=>[t.createTextVNode("mdi-close")]),_:1})]),_:1})):t.createCommentVNode("",!0)],64))]),_:1},16,["modelValue","transition","width"])]}),_:1})])}}}),g=Symbol.for("vuetify:notifier");function k(o){const e=(n,i="default",s={})=>{const c=document.querySelector("[data-v-app]"),l=document.createElement("div"),h={...q,...s};return new Promise((d,p)=>{const C=t.createApp(T,{content:n,status:i,options:h,onSubmit(N){d(N),setTimeout(()=>{C.unmount(),c.removeChild(l)},500)},onCancel(){switch(h.handleCancel){case"resolve":d(!1);break;case"reject":p(!1);break}setTimeout(()=>{C.unmount(),c.removeChild(l)},500)}});Object.assign(C._context,o._context),c==null||c.appendChild(l),C.mount(l)})};return{confirm:e,confirmSuccess:(n,i={})=>e(n,"success",i),confirmInfo:(n,i={})=>e(n,"info",i),confirmWarning:(n,i={})=>e(n,"warning",i),confirmError:(n,i={})=>e(n,"error",i),prompt:(n,i="default",s={})=>e(n,i,{...s,prompt:!0}),alert:(n,i="default",s={})=>e(n,i,{...s,secondaryButtonProps:{style:"display:none"}}),toast:(n,i="default",s={})=>{const c=document.querySelector("[data-v-app]"),l=document.createElement("div"),h={...I,...s};return new Promise(d=>{const p=t.createApp(O,{content:n,status:i,options:h,onSubmit(C){d(C),setTimeout(()=>{p.unmount(),c.removeChild(l)},500)},onCancel(){setTimeout(()=>{p.unmount(),c.removeChild(l)},500)}});Object.assign(p._context,o._context),c==null||c.appendChild(l),p.mount(l)})},component:(n,i={})=>{const s=document.querySelector("[data-v-app]"),c=document.createElement("div"),l={...E,...i};return new Promise(h=>{const d=t.createApp(A,{content:n,status,options:l,onSubmit(p){h(p),setTimeout(()=>{d.unmount(),s.removeChild(c)},500)},onCancel(){setTimeout(()=>{d.unmount(),s.removeChild(c)},500)}});Object.assign(d._context,o._context),s==null||s.appendChild(c),d.mount(c)})}}}function $(){if(!t.getCurrentInstance())throw new Error("[Vuetify Notifier] useNotifier() must be called from inside a setup function");const e=t.inject(g);if(!e)throw new Error("[Vuetify Notifier] Could not find Notifier injection");return e}const U={install:o=>{o.provide(g,k(o))}};V.NotifierSymbol=g,V.createNotifier=k,V.default=U,V.useNotifier=$,Object.defineProperties(V,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
